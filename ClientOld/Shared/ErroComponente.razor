@using Microsoft.Extensions.Logging

@inject ILogger<ErroComponente> Logger

<CascadingValue Value=this>
    @ChildContent
</CascadingValue>

@*<MatSnackbar @bind-IsOpen="@ExisteErro" IsOpenChanged="OnChange" Timeout="-1">
    <MatSnackbarContent>@Mensagem</MatSnackbarContent>
    <MatSnackbarActions>
        <MatButton Raised="true" OnClick="kkk@((e) => ExisteErro = false)">Fechar</MatButton>
    </MatSnackbarActions>
</MatSnackbar>*@
@Mensagem

@code {
    bool ExisteErro = true;
    string Mensagem = "oooooo";
    [Parameter]
    public RenderFragment ChildContent { get; set; }

    public void ProcessarErro(Exception ex)
    {
        ExisteErro = true;
        Mensagem = $"Erro:Processamento de erro - Tipo: {ex.GetType()} Menssagem: {ex.Message}";
        Logger.LogError(Mensagem);
        StateHasChanged();
    }
}